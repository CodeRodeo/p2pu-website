main {
	margin-top: 60px;

	section {
		padding: $padding-md;
	}

	header {
		@include flex-column-centered;
	  margin-bottom: $padding-sm;

	  .subtitle {
	  	text-align: center;
	  }
	}

  .header-text {
		text-align: center;

    h1 {
	    margin-bottom: 1em;
	    line-height: normal;
    }
  }

  .image-container {
		@include flex-column-centered;
    margin-top: 3em;

		.image {
			flex-grow: 1;
		  max-width: 680px;

		  img {
		  	width: 100%;
		  	height: auto;
		  }
		}

		.bg-line {
			height: 14px;
			transition: width 1s ease-in-out;
			width: 0;
			background-color: $p2pu-blue;
	    position: absolute;
	    z-index: -1;

	    &.expand {
	    	width: 100vw;
	    }
		}
  }

	section#landing {
		display: flex;
	  flex-direction: column;
	  justify-content: center;
	  text-align: center;
		min-height: 90vh;
		padding: $padding-sm 0;
	}

	section#learning-circles {
		.overview {
      .container {
      	display: flex;

				#stats {
					flex-grow: 1;

					.card {
						@include flex-column-centered;

						.material-icons {
							font-size: 4em;

							&:hover, &:actve, &:focus {
								@include grow-on-hover;
							}
						}

						.stat {
							display: flex;

							.number {
								font-weight: bold;
							}

							.text {
								margin-left: 6px;
							}
						}

						p {
							text-align: center;
						}

						&:nth-of-type(4n+1) {
			        .material-icons {
			          color: $p2pu-blue;
			        }
				    }

				    &:nth-of-type(4n+2) {
			        .material-icons {
			          color: $p2pu-yellow;
			        }
				    }

				    &:nth-of-type(4n+3) {
			        .material-icons {
			          color: $p2pu-orange;
			        }
				    }
					}
				}
      }
		}
	}

	#preview {
    margin-bottom: $padding-lg;
    display: flex;

    .preview-container {
    	padding: $padding-sm 0;
    	display: flex;
			width: 100%;


    	.meetings-section {
		    padding-left: $padding-sm;
		    padding-right: $padding-sm;

	    	.sub-title {
	    		display: flex;
  		    padding-left: 20px;

	    		.text {
				    color: $gray-darker;
		    		border-bottom: 2px solid $p2pu-blue;
	    		}
	    	}

	    	.meetings {
	    		.meeting-card {
				    padding: $padding-sm;

						p {
							margin-bottom: 0;
						}

						h4 {
					    margin-top: 0.4em;
					    margin-bottom: 0.4em;
						}

						.date {
							text-transform: uppercase;
					    font-size: $font-size-small;
					    color: $p2pu-orange;
					    display: flex;
					    align-items: center;
					    margin-bottom: $padding-sm;

					    i {
					    	margin-right: 6px;
					    }
						}

						.title {
							font-size: bold;
						}

						.location {
							font-size: $font-size-small;
						}

						.bold {
				    	font-weight: bold
				    }
	    		}
	    	}

    	}

    	.learning-circles-cta {
    		display: flex;
		    justify-content: center;
		    align-items: center;

	    	.circle {
			    @include circle-cta;
			    background-color: $p2pu-blue;
			    color: white;
			  }
    	}
    }
	}

	section#call-to-action {
		display: flex;
		background-color: $gray-lighter;
		margin-bottom: $padding-lg;

		.block {
			display: flex;
			justify-content: center;
		}

		.circle {
			padding: 40px;
			border-radius: 999px;
			background-color: $white;
			height: 90vw;
			width: 90vw;
			max-height: 300px;
	    max-width: 300px;
	    display: flex;
	    justify-content: center;
	    align-items: center;

			.content {
				text-align: center;

				p {
					padding-top: $padding-xs;
					padding-bottom: $padding-xs;
				}

				i.material-icons {
					font-size: 4em;

					&:hover, &:actve, &:focus {
						@include grow-on-hover;
					}
				}

				&.create {
					i.material-icons {
						color: $p2pu-yellow;
					}
				}

				&.join {
					i.material-icons {
						color: $p2pu-green;
					}
				}
			}
		}
	}

	#testimonials {
		margin-bottom: $padding-md;

		.slide-container {
			display: flex;
			flex-direction: row;
			justify-content: center;
			align-items: center;
		}

		.slide {
			display: flex;
			justify-content: center;
			align-content: flex-start;
			width: 680px;
			margin: 6px;

			.testimonial-card {
				transition: all 0.4s ease-in-out;
				transform: scale(0.8);
				background: $gray-lighter;
				border-radius: 20px;
				box-shadow: -1px 1px 3px 1px rgba(0,0,0,0.1);
				display: flex;
				flex-direction: column;
				padding: $padding-md;
				z-index: 0;

				.role {
					font-size: $font-size-small;
					text-transform: uppercase;
					text-align: center;
				}

				.quote {
					margin: $padding-sm;
				}

				.attribution {
					display: flex;
					align-items: center;
			    justify-content: center;

					.image {
						height: 100px;
						width: 100px;
						margin-right: $padding-sm;

						img {
							border-radius: 50%;
							height: 100%;
							width: 100%;
						}
					}

					.text {
						.name {
							font-weight: 700;
							padding-bottom: 6px;
						}

						.organization {
							font-size: $font-size-small;
						}
					}
				}
			}

			&.slick-current.slick-active.slick-center {
				.testimonial-card {
					transform: scale(1);
					background: white;
					z-index: 1;
				}
			}
		}
	}

	section#about {
		color: $white;

		.headline {
			padding: 0;
		}

		.columns {
			margin-right: 0;
			margin-left: 0;

			.column {
		    text-align: center;
				margin-bottom: $padding-md;

		    p {
		    	margin-bottom: $padding-sm;
    	    padding: $padding-sm;
		    }
			}
		}
	}

	section#partners-and-funders {
		.partners {
			> div {
				text-align: center;
				margin-bottom: $padding-sm;
			}
		}

		.funders {
	    padding: $padding-md;

	    .funder {
	    	display: flex;
	    	align-items: center;
	    	justify-content: center;

		    img {
		    	max-width: 200px;
		    	filter: grayscale(1);
		    }
	    }
		}
	}

	> div.full-width-image {
		height: 90vh;
		min-height: 250px;
		width: 100%;

		&.header {
			background: url('../images/header.jpg') no-repeat center center;
			background-size: cover;
		}

		&.finance {
			background: url('../images/finance_for_everyone.jpg') no-repeat center center;
			background-size: cover;
		}

		&.about {
			background: url('../images/about.jpg') no-repeat center center;
			background-size: cover;
		}
	}
}

.background-yellow {
	background-color: $p2pu-yellow;
}

.background-green {
	background-color: $p2pu-green;
}

.background-blue {
	background-color: $p2pu-blue;
}

.background-orange {
	background-color: $p2pu-orange;
}

.row {
	margin-right: 0 !important;
	margin-left: 0 !important;
}

@media (max-width: $screen-sm-max) {
	body {
		font-size: $font-size-base-mobile;
	}

	main {
		section {
			padding: 4px;

			header {
				margin: 12px 4px;
			}
		}

		.full-width-image {
			height: auto;
			min-height: 50vh;
			width: auto;
		}

		section#landing {
			.secondary-nav {
				.nav-item {
					&:nth-of-type(1) {
						.line {
							&.expanded {
								width: 10vw;
							}
						}
					}

					&:nth-of-type(2) {
						.line {
							&.expanded {
								width: 20vw;
							}
						}
					}

					&:nth-of-type(3) {
						.line {
							&.expanded {
								width: 30vw;
							}
						}
					}

					&:nth-of-type(4) {
						.line {
							&.expanded {
								width: 40vw;
							}
						}
					}
				}
			}
		}

		section#learning-circles {
			.overview {
				margin-top: $padding-sm;
				flex-direction: column;

				.container {
					flex-direction: column;

					#definition {
						order: 1;
						text-align: center;

						p.large {
							padding-right: 0;
						}

						svg {
							display: none;
						}
					}

					#stats {
						order: 2;
						align-items: unset;

						.stacked-numbers {
							display: flex;
							justify-content: space-evenly;
						}

						.stat {
							margin-bottom: $padding-sm;
						}
					}
				}
			}
		}

		#preview {
			.preview-container {
				flex-direction: column;
			}
		}

		#testimonials {
			.slide {
				width: 95vw;

				.testimonial-card {
					padding: 10px;

					.attribution {
						flex-direction: column;
						text-align: center;

						.image {
							margin-right: 0;
						}
					}
				}
			}
		}

		section#partners-and-funders {
			.funders {
				padding: $padding-sm;
				.funder {
					img {
						max-width: 160px;
					}
				}
			}
		}
	}

	.hidden-on-mobile {
		display: none !important;
	}
}

@media (min-width: $screen-sm-min) and (max-width: $screen-sm-max) {
	main {
		section {
			padding: $padding-sm;

			header {
				margin: 12px 4px;
			}
		}
	}
}

@media (max-width: $screen-xs) {
	section#learning-circles {
		.overview {
			#stats {
				.stacked-numbers {
					flex-direction: column;
				}
			}
		}
	}
}

.chart {
  position: absolute;
  display: inline-block;
  color: #999;
  font-size: 20px;
  text-align: center;
  top: -50px;
}

svg .outer.red {
  stroke: $p2pu-orange;
}

svg .outer.blue {
  stroke: $p2pu-blue;
}

svg .outer.yellow {
  stroke: $p2pu-yellow;
}

.outer {
  fill: transparent;
  stroke: #333;
  stroke-width: 20;
  stroke-dasharray: 1445;
  transition: stroke-dashoffset 1s;
  -webkit-animation-play-state: running;
}

#definition {
	position: relative;

	.outer {
	  stroke-dashoffset: 1445;
	  -webkit-animation-play-state: paused;
	}

	&.play-animation {
		.outer[data-percent='75'] {
		  stroke-dashoffset: 723;
		  -webkit-animation: show75 2s;
		  animation: show75 2s;
		}

		.outer[data-percent='50'] {
		  stroke-dashoffset: 550;
		  -webkit-animation: show50 2s;
		  animation: show50 2s;
		}

		.outer[data-percent='25'] {
		  stroke-dashoffset: 500;
		  -webkit-animation: show25 2s;
		  animation: show25 2s;
		}
	}
}

@-webkit-keyframes show75 {
  from {
    stroke-dashoffset: 1445;
  }

  to {
    stroke-dashoffset: 723;
  }
}

@keyframes show75 {
  from {
    stroke-dashoffset: 1445;
  }

  to {
    stroke-dashoffset: 723;
  }
}

@-webkit-keyframes show50 {
  from {
    stroke-dashoffset: 1445;
  }

  to {
    stroke-dashoffset: 550;
  }
}

@keyframes show50 {
  from {
    stroke-dashoffset: 1445;
  }

  to {
    stroke-dashoffset: 550;
  }
}

@-webkit-keyframes show25 {
  from {
    stroke-dashoffset: 1445;
  }

  to {
    stroke-dashoffset: 500;
  }
}

@keyframes show25 {
  from {
    stroke-dashoffset: 1445;
  }

  to {
    stroke-dashoffset: 500;
  }
}
